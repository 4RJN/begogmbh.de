<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <meta name="color-scheme" content="dark" />
  <meta name="theme-color" content="#000000" />

    <title>BEGO Geb√§udereinigung GmbH - Ad Vorschau üîé</title>

<meta property="og:title" content="BEGO Geb√§udereinigung GmbH - Ad Vorschau üîé" />
<meta property="og:description" content="üåäWasser. üéØPr√§zision. üßºSauberkeit. Jetzt Website √∂ffnen." />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="https://4rjn.github.io/begogmbh.de/ad/og.png" />
  <meta property="og:image:width" content="1200" />
  <meta property="og:image:height" content="630" />

  <style>
    html, body { height: 100%; }
    body {
      margin: 0;
      background: #000;
      color: #fff;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
      overflow-x: hidden;
    }
    a { color: inherit; text-decoration: none; }
    button { font: inherit; }
    * { box-sizing: border-box; }

    .wrap {
      min-height: 100%;
      position: relative;
      display: grid;
      grid-template-rows: 1fr auto;
      isolation: isolate;
    }

    .bg {
      position: fixed;
      inset: 0;
      pointer-events: none;
      z-index: -2;
      background:
        radial-gradient(1200px 800px at 50% 30%, rgba(255,255,255,0.06), transparent 65%),
        radial-gradient(900px 600px at 20% 80%, rgba(80,180,255,0.06), transparent 60%),
        radial-gradient(900px 600px at 80% 80%, rgba(0,255,200,0.04), transparent 60%),
        linear-gradient(#000, #000);
    }
    .vignette {
      position: fixed;
      inset: 0;
      pointer-events: none;
      z-index: -1;
      background:
        radial-gradient(120% 120% at 50% 50%, transparent 55%, rgba(0,0,0,0.72) 80%, rgba(0,0,0,0.9) 100%);
    }
    .grain {
      position: fixed;
      inset: -80px;
      z-index: -1;
      pointer-events: none;
      opacity: .10;
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='160' height='160'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.9' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='160' height='160' filter='url(%23n)' opacity='.55'/%3E%3C/svg%3E");
      mix-blend-mode: overlay;
      transform: translateZ(0);
    }

    .hero {
      display: grid;
      place-items: center;
      padding: clamp(12px, 3vw, 28px);
      padding-top: max(12px, env(safe-area-inset-top));
      padding-bottom: clamp(12px, 3vw, 28px);
    }

    /* FIX: garantiert nie breiter als Screen (inkl. padding & safe-area) */
    .card {
      width: min(1080px, calc(100vw - 24px));
      max-width: calc(100vw - 24px);
      border-radius: 22px;
      overflow: hidden;
      background: rgba(10,10,10,0.55);
      border: 1px solid rgba(255,255,255,0.08);
      box-shadow:
        0 20px 80px rgba(0,0,0,0.65),
        0 0 0 1px rgba(255,255,255,0.03) inset;
      backdrop-filter: blur(10px);
    }

    .topbar {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 10px;
      padding: 12px 12px;
      border-bottom: 1px solid rgba(255,255,255,0.08);
      background: linear-gradient(to bottom, rgba(15,15,15,0.75), rgba(12,12,12,0.45));
      flex-wrap: wrap;
    }

    .brand {
      display: flex;
      align-items: center;
      gap: 10px;
      min-width: 0;
      flex: 1 1 auto;
    }
    .dot {
      width: 10px;
      height: 10px;
      border-radius: 999px;
      background: radial-gradient(circle at 30% 30%, #bff, #3af 55%, #048 100%);
      box-shadow: 0 0 18px rgba(80,180,255,0.35);
      flex: 0 0 auto;
    }
    .brand h1 {
      margin: 0;
      font-size: 14px;
      letter-spacing: 0.14em;
      text-transform: uppercase;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      opacity: .92;
    }

    .actions {
      display: flex;
      align-items: center;
      gap: 10px;
      flex: 0 0 auto;
      width: 100%;
      justify-content: flex-end;
    }

    .btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
      border: 1px solid rgba(255,255,255,0.10);
      background: rgba(255,255,255,0.06);
      color: #fff;
      padding: 10px 12px;
      border-radius: 14px;
      cursor: pointer;
      user-select: none;
      -webkit-tap-highlight-color: transparent;
      transition: transform .15s ease, background .15s ease, border-color .15s ease, opacity .15s ease;
      white-space: nowrap;
    }
    .btn:hover { background: rgba(255,255,255,0.10); border-color: rgba(255,255,255,0.16); }
    .btn:active { transform: translateY(1px) scale(0.99); }
    .btn.primary {
      background: linear-gradient(135deg, rgba(80,180,255,0.22), rgba(0,255,200,0.12));
      border-color: rgba(140,220,255,0.25);
      box-shadow: 0 10px 35px rgba(0,0,0,0.45);
    }

    .btn .k {
      font-size: 12px;
      opacity: .85;
      border: 1px solid rgba(255,255,255,0.18);
      padding: 2px 7px;
      border-radius: 999px;
      background: rgba(0,0,0,0.35);
    }

    .stage {
      position: relative;
      background: #000;
      aspect-ratio: 16 / 9;
    }
    .stage video {
      width: 100%;
      height: 100%;
      display: block;
      object-fit: cover;
      background: #000;
      filter: contrast(1.05) saturate(1.05);
    }
    .stage::after {
      content: "";
      position: absolute;
      inset: 0;
      pointer-events: none;
      box-shadow: 0 0 0 1px rgba(255,255,255,0.06) inset;
    }

    .overlay {
      position: absolute;
      inset: 0;
      display: grid;
      grid-template-rows: 1fr auto;
      pointer-events: none;
    }

    .centerPrompt {
      align-self: center;
      justify-self: center;
      text-align: center;
      padding: 16px;
      max-width: 720px;
      opacity: 0;
      transform: translateY(10px);
      transition: opacity .25s ease, transform .25s ease;
    }
    .centerPrompt.show {
      opacity: 1;
      transform: translateY(0);
      pointer-events: auto;
    }

    .headline {
      margin: 0 0 10px 0;
      font-size: clamp(22px, 3.2vw, 40px);
      letter-spacing: -0.02em;
      line-height: 1.05;
      text-shadow: 0 10px 40px rgba(0,0,0,0.7);
    }
    .sub {
      margin: 0 0 16px 0;
      font-size: clamp(14px, 1.6vw, 18px);
      opacity: .85;
      line-height: 1.4;
      text-shadow: 0 8px 32px rgba(0,0,0,0.75);
    }

    .overlayBottom {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
      padding: 14px 14px 16px 14px;
      background: linear-gradient(to top, rgba(0,0,0,0.70), rgba(0,0,0,0.08), transparent);
    }

    .pill {
      pointer-events: auto;
      display: inline-flex;
      align-items: center;
      gap: 10px;
      padding: 10px 12px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,0.10);
      background: rgba(0,0,0,0.35);
      backdrop-filter: blur(10px);
      max-width: 80vw;
    }

    .bar {
      width: min(320px, 42vw);
      height: 6px;
      border-radius: 999px;
      background: rgba(255,255,255,0.12);
      overflow: hidden;
      flex: 0 0 auto;
    }
    .bar > i {
      display: block;
      height: 100%;
      width: 0%;
      background: linear-gradient(90deg, rgba(80,180,255,0.85), rgba(0,255,200,0.85));
      border-radius: 999px;
      box-shadow: 0 0 20px rgba(80,180,255,0.25);
    }

    .tiny {
      font-size: 12px;
      opacity: .78;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      max-width: 42vw;
    }

    footer {
      padding: 16px 16px max(16px, env(safe-area-inset-bottom));
      text-align: center;
      opacity: .72;
      font-size: 12px;
    }
    footer a { text-decoration: underline; text-decoration-color: rgba(255,255,255,0.35); }

    /* ====== MOBILE PORTRAIT: Video soll gr√∂√üer wirken (nicht ‚Äúzu breit‚Äù) ====== */
    @media (max-width: 720px) and (orientation: portrait) {
      .hero { padding: 10px; }
      .card { width: calc(100vw - 20px); max-width: calc(100vw - 20px); border-radius: 18px; }
      .actions { justify-content: space-between; }
      .btn .k { display: none; }

      /* Taller stage + contain = wirkt gr√∂√üer & Logo wird nicht abgeschnitten */
      .stage { aspect-ratio: 4 / 5; }
      .stage video { object-fit: contain; }
      .bar { width: 44vw; }
      .tiny { max-width: 36vw; }
    }

    @media (prefers-reduced-motion: reduce) {
      .grain { display: none; }
      .btn, .centerPrompt { transition: none; }
    }
  </style>
</head>

<body>
  <div class="bg" aria-hidden="true"></div>
  <div class="vignette" aria-hidden="true"></div>
  <div class="grain" aria-hidden="true"></div>

  <div class="wrap">
    <main class="hero">
      <div class="card">
        <div class="topbar">
          <div class="brand" title="BEGO Geb√§udereinigung GmbH">
            <span class="dot" aria-hidden="true"></span>
            <h1>BEGO Geb√§udereinigung GmbH</h1>
          </div>

          <div class="actions">
            <button class="btn" id="btnSound" type="button" aria-label="Sound umschalten">üîä <span id="soundLabel">Sound an</span></button>
            <button class="btn" id="btnSkip" type="button" aria-label="√úberspringen">‚è≠Ô∏è √úberspringen</button>
            <a class="btn primary" href="https://4rjn.github.io/begogmbh.de" id="btnSite" aria-label="Zur Website">üöÄ <span>Website √∂ffnen</span></a>
          </div>
        </div>

        <div class="stage" id="stage">
          <video
            id="vid"
            playsinline
            muted
            preload="auto"
            poster="./poster.webp"
          >
            <source src="./ad.mp4" type="video/mp4">
          </video>

          <div class="overlay">
            <div class="centerPrompt" id="prompt">
              <h2 class="headline" id="headline">Wasser. Pr√§zision. Sauberkeit.</h2>
              <p class="sub" id="sub">
                Drehe dein Handy f√ºr Vollbild ‚Äì oder tippe auf Start.
              </p>

              <div style="display:flex;gap:10px;justify-content:center;flex-wrap:wrap;">
                <button class="btn primary" id="btnPlay" type="button">‚ñ∂Ô∏è Start</button>
                <button class="btn" id="btnReplay" type="button">üîÅ Replay</button>
              </div>
            </div>

            <div class="overlayBottom">
              <div class="pill" title="Fortschritt">
                <div class="bar" aria-hidden="true"><i id="prog"></i></div>
                <span class="tiny" id="time">0:00</span>
              </div>

              <div class="pill" title="Status">
                <span class="tiny" id="status">Bereit</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>

    <footer>
      <span>¬© <span id="year"></span> BEGO Geb√§udereinigung GmbH</span>
      &nbsp;¬∑&nbsp;
      <a href="https://4rjn.github.io/begogmbh.de">Zur Hauptseite</a>
    </footer>
  </div>

  <script>
    (function () {
      const video = document.getElementById('vid');
      const stage = document.getElementById('stage');
      const btnSound = document.getElementById('btnSound');
      const soundLabel = document.getElementById('soundLabel');
      const btnPlay = document.getElementById('btnPlay');
      const btnReplay = document.getElementById('btnReplay');
      const btnSkip = document.getElementById('btnSkip');
      const prompt = document.getElementById('prompt');
      const prog = document.getElementById('prog');
      const time = document.getElementById('time');
      const status = document.getElementById('status');
      const headline = document.getElementById('headline');
      const sub = document.getElementById('sub');

      document.getElementById('year').textContent = new Date().getFullYear();

      const SITE_URL = "https://4rjn.github.io/begogmbh.de";

      // Playlist
      const clips = [
        { src: "./ad.mp4", poster: "./poster.webp", label: "Clip 1/2" },
        { src: "./ad2.mp4", poster: "./poster2.webp", label: "Clip 2/2" },
      ];
      let clipIndex = 0;

      let userActivatedSound = false;
      let redirectTimer = null;
      let countdownTimer = null;
      let countdownLeft = 4;

      function setStatus(txt) { status.textContent = txt; }

      const pad2 = (n) => String(n).padStart(2, '0');
      const fmt = (t) => {
        if (!isFinite(t)) return "0:00";
        const m = Math.floor(t / 60);
        const s = Math.floor(t % 60);
        return `${m}:${pad2(s)}`;
      };

      function isPortraitMobile() {
        return window.matchMedia("(max-width: 900px) and (orientation: portrait)").matches;
      }

      function showPrompt(messageTitle, messageSub) {
        if (messageTitle) headline.textContent = messageTitle;
        if (messageSub) sub.textContent = messageSub;
        prompt.classList.add('show');
      }

      function hidePrompt() {
        prompt.classList.remove('show');
      }

      function clearRedirect() {
        if (redirectTimer) { clearTimeout(redirectTimer); redirectTimer = null; }
        if (countdownTimer) { clearInterval(countdownTimer); countdownTimer = null; }
        countdownLeft = 4;
      }

      function scheduleRedirect() {
        clearRedirect();
        countdownLeft = 4;
        showPrompt("Fertig.", "Weiterleitung zur Website in 4 Sekunden ‚Ä¶ (oder √úberspringen)");
        setStatus("Weiterleitung in 4s");
        countdownTimer = setInterval(() => {
          countdownLeft--;
          if (countdownLeft <= 0) {
            clearRedirect();
            window.location.href = SITE_URL;
          } else {
            setStatus("Weiterleitung in " + countdownLeft + "s");
            sub.textContent = "Weiterleitung zur Website in " + countdownLeft + " Sekunden ‚Ä¶ (oder √úberspringen)";
          }
        }, 1000);
      }

      function loadClip(i) {
        clipIndex = i;
        const c = clips[clipIndex];
        video.pause();
        video.muted = !userActivatedSound;
        video.setAttribute("poster", c.poster);

        // swap source
        video.innerHTML = `<source src="${c.src}" type="video/mp4">`;
        video.load();

        setStatus(c.label + " bereit");
        showPrompt("Wasser. Pr√§zision. Sauberkeit.", isPortraitMobile()
          ? "Drehe dein Handy f√ºr Vollbild ‚Äì oder tippe auf Start."
          : "Tippe ins Video f√ºr Sound oder starte direkt.");
        updateUI();
      }

      async function safePlay() {
        try {
          await video.play();
          hidePrompt();
          setStatus(clips[clipIndex].label + (video.muted ? " (stumm)" : " (mit Sound)"));
        } catch (e) {
          setStatus("Tippe zum Start");
          showPrompt("Start bereit.", "Tippe auf Start oder ins Video.");
        }
        updateUI();
      }

      async function tryAutoplaySmart() {
        // Mobile portrait: nicht autoplay, damit du erst drehen kannst
        if (isPortraitMobile()) {
          video.muted = true;
          setStatus("Warte auf Start (Portrait)");
          showPrompt("Drehen empfohlen.", "Drehe dein Handy f√ºr Vollbild ‚Äì oder tippe auf Start.");
          return;
        }

        // Landscape / Desktop: autoplay muted
        video.muted = true;
        try {
          await video.play();
          hidePrompt();
          setStatus(clips[clipIndex].label + " (stumm)");
        } catch (e) {
          setStatus("Tippe zum Start");
          showPrompt("Start bereit.", "Tippe auf Start oder ins Video.");
        }
        updateUI();
      }

      async function toggleSound() {
        if (video.muted) {
          userActivatedSound = true;
          video.muted = false;
          try {
            await video.play();
            setStatus(clips[clipIndex].label + " (mit Sound)");
          } catch (e) {
            video.muted = true;
            setStatus("Sound ben√∂tigt Tap");
            showPrompt("Sound freischalten.", "Tippe ins Video oder auf Start f√ºr Ton.");
          }
        } else {
          video.muted = true;
          setStatus(clips[clipIndex].label + " (stumm)");
        }
        updateUI();
      }

      function replay() {
        clearRedirect();
        video.currentTime = 0;
        safePlay();
      }

      function skipToSite() {
        clearRedirect();
        window.location.href = SITE_URL;
      }

      function updateUI() {
        const d = video.duration || 0;
        const c = video.currentTime || 0;
        const p = d ? Math.min(100, Math.max(0, (c / d) * 100)) : 0;
        prog.style.width = p.toFixed(2) + "%";
        time.textContent = fmt(c);
        soundLabel.textContent = video.muted ? "Sound an" : "Sound aus";
      }

      // Tap on stage
      stage.addEventListener('click', async () => {
        clearRedirect();
        if (video.paused || video.ended) {
          // In portrait: beim Tap starten wir (optional mit Sound wenn user will)
          await safePlay();
        } else {
          video.pause();
          setStatus("Pausiert");
          showPrompt("Pausiert.", "Tippe zum Fortsetzen.");
        }
        updateUI();
      }, { passive: true });

      btnSound.addEventListener('click', (e) => { e.stopPropagation(); clearRedirect(); toggleSound(); });
      btnPlay.addEventListener('click', (e) => { e.stopPropagation(); clearRedirect(); safePlay(); });
      btnReplay.addEventListener('click', (e) => { e.stopPropagation(); replay(); });
      btnSkip.addEventListener('click', (e) => { e.stopPropagation(); skipToSite(); });

      // Video events
      video.addEventListener('timeupdate', updateUI);
      video.addEventListener('play', () => { hidePrompt(); updateUI(); });
      video.addEventListener('pause', () => { updateUI(); });

      video.addEventListener('ended', () => {
        updateUI();

        // next clip?
        if (clipIndex < clips.length - 1) {
          loadClip(clipIndex + 1);

          // Smart autoplay behavior again
          tryAutoplaySmart();
        } else {
          // end of playlist -> redirect countdown
          scheduleRedirect();
        }
      });

      // Keyboard shortcuts
      window.addEventListener('keydown', (e) => {
        if (e.key.toLowerCase() === 's') toggleSound();
        if (e.key === 'Escape') skipToSite();
        if (e.key === 'Enter') skipToSite();
      });

      // Orientation / resize handling:
      // Wenn du drehst und noch nicht richtig gestartet hast: starte/restart, damit du nichts verpasst.
      let lastPortrait = isPortraitMobile();
      window.addEventListener('resize', () => {
        const nowPortrait = isPortraitMobile();
        if (nowPortrait !== lastPortrait) {
          lastPortrait = nowPortrait;
          clearRedirect();

          // When switching to landscape: restart current clip and autoplay muted
          if (!nowPortrait) {
            video.currentTime = 0;
            tryAutoplaySmart();
          } else {
            // switching to portrait: pause and show prompt so it doesn't "durchlaufen"
            if (!video.paused) video.pause();
            showPrompt("Drehen empfohlen.", "Drehe dein Handy f√ºr Vollbild ‚Äì oder tippe auf Start.");
            setStatus("Warte auf Start (Portrait)");
          }
        }
      });

      // Init
      loadClip(0);
      tryAutoplaySmart();
    })();
  </script>
</body>
</html>